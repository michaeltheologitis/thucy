# Google’s MCP Toolbox


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/michaeltheologitis/thucy/blob/main/thucy/toolbox.py#L14"
target="_blank" style="float:right; font-size:smaller">source</a>

### GenAIToolboxMCP

>  GenAIToolboxMCP ()

*Factory for managing a shared ToolboxSyncClient and loading toolsets.*

We first create a singleton instance of
[`GenAIToolboxMCP`](https://michaeltheologitis.github.io/thucy/toolbox.html#genaitoolboxmcp).

<details open class="code-fold">
<summary>Exported source</summary>

``` python
genai_mcp = GenAIToolboxMCP()
```

</details>

Then, we preconfigure the tools to redirect to the **toolsets** with the
prefix of **seattle**. For example, after the following command, the SQL
expert agent will subscribe to the tooset **seattle-sql**.

``` python
genai_mcp.set_specific_toolset("seattle")
```

``` python
genai_mcp.connect()
```

Let’s load some tools and see what is going on. First, we will load
**sql** tools:

``` python
sql_tools = genai_mcp._load_raw_toolset("sql")
```

The length of the loaded tools should be 1, as we have 1 SQL toolsets in
the `seattle` toolset: `postgres_seattle_execute_sql`.

``` python
len(sql_tools)
```

    1

Let’s run some SQL using a tool. **They are directly callable**!

``` python
sql_tools[0]("select * from crime_data limit 1;")
```

    '[{"beat":"W2","block_address":"59XX BLOCK OF 45TH AVE SW","latitude":"47.549439","longitude":"-122.389912","neighborhood":"MORGAN","nibrs_crime_against_category":"PROPERTY","nibrs_group_ab":"A","nibrs_offense_code":"23F","nibrs_offense_code_description":"Theft From Motor Vehicle","offense_category":"PROPERTY CRIME","offense_date":"2024-07-05T22:00:00Z","offense_id":57458328658,"offense_sub_category":"LARCENY-THEFT","precinct":"Southwest","report_datetime":"2024-07-07T07:00:10Z","report_number":"2024-934604","reporting_area":"1858","sector":"W","shooting_type_group":"-"}]'

Let’s load the **schema** toolset and play around with it.

``` python
schema_tools = genai_mcp._load_raw_toolset("schema")
```

It is going to show 1 tools again.

``` python
len(schema_tools)
```

    1

``` python
schema_tools[0]('crime_data', 'simple')
```

    '[{"object_details":{"name":"crime_data"},"object_name":"crime_data","schema_name":"public"}]'

``` python
schema_tools[0]('crime_data', 'detailed')
```

    '[{"object_details":{"columns":[{"column_comment":null,"column_default":null,"column_name":"report_number","data_type":"text","is_not_nullable":false,"ordinal_position":1},{"column_comment":null,"column_default":null,"column_name":"report_datetime","data_type":"timestamp without time zone","is_not_nullable":false,"ordinal_position":2},{"column_comment":null,"column_default":null,"column_name":"offense_id","data_type":"bigint","is_not_nullable":false,"ordinal_position":3},{"column_comment":null,"column_default":null,"column_name":"offense_date","data_type":"timestamp without time zone","is_not_nullable":false,"ordinal_position":4},{"column_comment":null,"column_default":null,"column_name":"nibrs_group_ab","data_type":"text","is_not_nullable":false,"ordinal_position":5},{"column_comment":null,"column_default":null,"column_name":"nibrs_crime_against_category","data_type":"text","is_not_nullable":false,"ordinal_position":6},{"column_comment":null,"column_default":null,"column_name":"offense_sub_category","data_type":"text","is_not_nullable":false,"ordinal_position":7},{"column_comment":null,"column_default":null,"column_name":"shooting_type_group","data_type":"text","is_not_nullable":false,"ordinal_position":8},{"column_comment":null,"column_default":null,"column_name":"block_address","data_type":"text","is_not_nullable":false,"ordinal_position":9},{"column_comment":null,"column_default":null,"column_name":"latitude","data_type":"text","is_not_nullable":false,"ordinal_position":10},{"column_comment":null,"column_default":null,"column_name":"longitude","data_type":"text","is_not_nullable":false,"ordinal_position":11},{"column_comment":null,"column_default":null,"column_name":"beat","data_type":"text","is_not_nullable":false,"ordinal_position":12},{"column_comment":null,"column_default":null,"column_name":"precinct","data_type":"text","is_not_nullable":false,"ordinal_position":13},{"column_comment":null,"column_default":null,"column_name":"sector","data_type":"text","is_not_nullable":false,"ordinal_position":14},{"column_comment":null,"column_default":null,"column_name":"neighborhood","data_type":"text","is_not_nullable":false,"ordinal_position":15},{"column_comment":null,"column_default":null,"column_name":"reporting_area","data_type":"text","is_not_nullable":false,"ordinal_position":16},{"column_comment":null,"column_default":null,"column_name":"offense_category","data_type":"text","is_not_nullable":false,"ordinal_position":17},{"column_comment":null,"column_default":null,"column_name":"nibrs_offense_code_description","data_type":"text","is_not_nullable":false,"ordinal_position":18},{"column_comment":null,"column_default":null,"column_name":"nibrs_offense_code","data_type":"text","is_not_nullable":false,"ordinal_position":19}],"comment":null,"constraints":[],"indexes":[],"object_name":"crime_data","object_type":"TABLE","owner":"michaeltheologitis","schema_name":"public","triggers":[]},"object_name":"crime_data","schema_name":"public"}]'

We can also load the toolset used by OpenAI Agents (wrapped in tool
funcs)

``` python
genai_mcp.load_toolset('sql')
```

    [FunctionTool(name='postgres_seattle_execute_sql', description='Executes SQL queries on the PostgreSQL Seattle database. The queries must be PostgreSQL-compatible.', params_json_schema={'properties': {'sql': {'description': 'The sql to execute.', 'title': 'Sql', 'type': 'string'}}, 'required': ['sql'], 'title': 'postgres_seattle_execute_sql_args', 'type': 'object', 'additionalProperties': False}, on_invoke_tool=<function function_tool.<locals>._create_function_tool.<locals>._on_invoke_tool>, strict_json_schema=True, is_enabled=True, tool_input_guardrails=None, tool_output_guardrails=None)]

``` python
genai_mcp._load_raw_toolset('sql')
```

    [<toolbox_core.sync_tool.ToolboxSyncTool>]

``` python
genai_mcp.close()
```
